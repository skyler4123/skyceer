<%= tag.div(id: @id, class: @klass, data: { controller: @controller }) do %>
  <%= tag.button(class: @button_class) do %>
    <% if @url %>
      <%= link_to(@url, class: @link_class) do %>
        <% if content %>
          <%= content %>
        <% else %>
          <%= before if before? %>
          <%= @label %>
          <%= after if after? %>
        <% end %>
      <% end %>
    <% else %>
      <% if content %>
        <%= content %>
      <% else %>
        <%= before if before? %>
        <%= @label %>
        <%= after if after? %>
      <% end %>
    <% end %>
  <% end %>
  <%= indicator if indicator %>
  <% if effects %>
    <% effects.each do |effect| %>
      <%= effect %>
    <% end %>
  <% end %>
<% end %>